<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- SEO: Page title (50-60 characters optimal) -->
  <title>Événements à venir – EOTC Toulouse | Église orthodoxe éthiopienne</title>
  
  <!-- SEO: Meta description (150-160 characters optimal) -->
  <meta name="description" content="Découvrez les prochains événements de l'Église orthodoxe éthiopienne à Toulouse (EOTC). Cultes, études bibliques, groupes de jeunes et activités communautaires." />
  
  <!-- SEO: Keywords for local search -->
  <meta name="keywords" content="EOTC Toulouse, événements église, culte Toulouse, église éthiopienne Toulouse, activités religieuses, groupe de jeunes, étude biblique" />
  
  <!-- SEO: Author and language -->
  <meta name="author" content="EOTC Toulouse" />
  <meta name="language" content="fr" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="/css/evenements.css" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/img/eglise_icone.ico" />
  
  <!-- SEO: Canonical URL (update to your actual domain when deployed) -->
  <link rel="canonical" href="https://eotctoulouse.org/evenements.html" />
  
  <!-- Open Graph meta tags for social media sharing -->
  <meta property="og:title" content="Événements à venir – EOTC Toulouse" />
  <meta property="og:description" content="Découvrez les prochains événements de l'Église orthodoxe éthiopienne à Toulouse. Cultes, études bibliques et activités communautaires." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://eotctoulouse.org/evenements.html" />
  <meta property="og:image" content="https://eotctoulouse.org/img/egliseinterior.jpg" />
  <meta property="og:locale" content="fr_FR" />
  <meta property="og:site_name" content="EOTC Toulouse" />
  
  <!-- Twitter Card meta tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Événements à venir – EOTC Toulouse" />
  <meta name="twitter:description" content="Découvrez les prochains événements de l'Église orthodoxe éthiopienne à Toulouse." />
  <meta name="twitter:image" content="https://eotctoulouse.org/img/egliseinterior.jpg" />
  
  <!-- SEO: Structured data (JSON-LD) for rich search results -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Church",
    "name": "EOTC Toulouse – Église orthodoxe éthiopienne à Toulouse",
    "url": "https://eotctoulouse.org",
    "logo": "https://eotctoulouse.org/img/eglise_icone.ico",
    "image": "https://eotctoulouse.org/img/egliseinterior.jpg",
    "description": "Église orthodoxe éthiopienne à Toulouse. Cultes, études bibliques et activités communautaires.",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Toulouse",
      "addressCountry": "FR"
    },
    "event": [
      {
        "@type": "Event",
        "name": "Culte de célébration",
        "startDate": "2025-09-30T10:00",
        "location": {
          "@type": "Place",
          "name": "EOTC Toulouse",
          "address": {
            "@type": "PostalAddress",
            "addressLocality": "Toulouse",
            "addressCountry": "FR"
          }
        }
      }
    ]
  }
  </script>
</head>
<body>
  <!-- Navbar -->
  <header class="header">
    <div class="container nav">
      <div class="nav-left">
        <img class="logo-icon" src="/img/eglise_icone.ico" alt="Icône Église" />
        <a href="/index.html" class="brand" aria-label="Accueil">EOTC Toulouse</a>
      </div>
      <nav class="nav-menu" aria-label="Navigation principale">
        <a href="/index.html">Accueil</a>
        <a href="/notre_eglise.html">Notre Église</a>
      </nav>
    </div>
  </header>

  <!-- Page header -->
  <section class="page-hero">
    <div class="container">
      <h1>Événements à venir</h1>
      <p>Retrouvez ici les prochains rendez-vous de l'église.</p>
    </div>
  </section>

  <!-- Events list (dynamically loaded from events.json) -->
  <section class="events">
    <div class="container">
      <ul class="list" id="events-list">
        <!-- Events will be loaded here by JavaScript -->
      </ul>
      <p id="no-events" style="display:none; text-align:center; color:#6b7280; padding:32px 0;">Aucun événement à venir pour le moment.</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-inner">
      <p>© <span id="year"></span> EOTC Toulouse. Tous droits réservés.</p>
    </div>
  </footer>

  <script>
    // ==========================================
    // Footer: Update copyright year dynamically
    // ==========================================
    const yearElement = document.querySelector('#year');
    if (yearElement) {
      yearElement.textContent = new Date().getFullYear();
    }

    // ==========================================
    // Load events dynamically from events.json
    // ==========================================
    async function loadEvents() {
      try {
        // Fetch events data from JSON file
        const response = await fetch('events.json');
        if (!response.ok) {
          throw new Error('Failed to load events');
        }
        const events = await response.json();
        
        // Get DOM elements
        const eventsList = document.getElementById('events-list');
        const noEventsMessage = document.getElementById('no-events');
        
        // Check if events exist
        if (!events || events.length === 0) {
          noEventsMessage.style.display = 'block';
          return;
        }
        
        // Create HTML for each event
        events.forEach(event => {
          // Create list item with appropriate class
          const listItem = document.createElement('li');
          listItem.className = event.photo ? 'item with-photo' : 'item';
          
          // Create date element
          const dateElement = document.createElement('div');
          dateElement.className = 'date';
          dateElement.textContent = event.date;
          listItem.appendChild(dateElement);
          
          // Create photo element (if photo exists)
          if (event.photo) {
            const photoElement = document.createElement('img');
            photoElement.className = 'item-photo';
            photoElement.src = event.photo;
            photoElement.alt = event.title;
            // SEO: Add loading attribute for better performance
            photoElement.loading = 'lazy';
            listItem.appendChild(photoElement);
          }
          
          // Create content container
          const contentContainer = document.createElement('div');
          
          // Create title element
          const titleElement = document.createElement('h3');
          titleElement.textContent = event.title;
          
          // Create description element
          const descriptionElement = document.createElement('p');
          descriptionElement.textContent = event.description;
          
          // Assemble content
          contentContainer.appendChild(titleElement);
          contentContainer.appendChild(descriptionElement);
          listItem.appendChild(contentContainer);
          
          // Add to list
          eventsList.appendChild(listItem);
        });
      } catch (error) {
        // Handle errors gracefully
        console.error('Error loading events:', error);
        document.getElementById('no-events').style.display = 'block';
      }
    }
    
    // Initialize: Load events when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadEvents);
    } else {
      loadEvents();
    }
  </script>
</body>
</html>
